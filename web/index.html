<!doctype html><meta charset="utf-8"><title>Demo Web</title>
<style>body{font-family:system-ui;margin:24px} .card{border:1px solid #eee;border-radius:12px;padding:12px;max-width:560px}</style>
<div class="card">
  <div><b>API:</b> <span id="base"></span></div>
  <button onclick="ping()">Ping API</button>
  <button onclick="run()">Run Example</button>
  <pre id="out">Ready.</pre>
</div>
<script>
const def=`http://127.0.0.1:5108`;
const api=new URLSearchParams(location.search).get("api")||def;
const key=new URLSearchParams(location.search).get("key")||"dev-12345";
document.getElementById('base').textContent=api;
const out=document.getElementById('out');
async function ping(){ const r=await fetch(api,{headers:{'X-Api-Key':key}}).catch(e=>({json:async()=>({error:String(e)})})); out.textContent=JSON.stringify(await r.json(),null,2); }
async function run(){
  const pathMap={'5101':'/api/kpis','5103':'/api/devices','5104':'/api/bookings','5106':'/api/plan','5107':'/api/heatmap','5108':'/api/events/recent','5109':'/api/playbooks'};
  const p = pathMap[api.split(':').pop()] || '/health';
  const r=await fetch(api+p,{headers:{'X-Api-Key':key}}).catch(e=>({json:async()=>({error:String(e)})}));
  out.textContent=JSON.stringify(await r.json(),null,2);
}
</script>
